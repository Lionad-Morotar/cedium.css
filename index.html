<!Doctype>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./layout.css">
  <link rel="stylesheet" href="./medium.css">

<body>
  <div class="container">
    <div class="meta"></div>
    <main class="article">

     <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="%E4%BD%A0%E6%9C%AC%E5%8F%AF%E4%BB%A5%E5%B0%91%E5%86%99%E4%BA%9Bif-else">&#x1F4DD;&#x4F60;&#x672C;&#x53EF;&#x4EE5;&#x5C11;&#x5199;&#x4E9B; if-else</h1>

<blockquote>
<p>&quot;...&#x4ED6;&#x89C9;&#x5F97;Blub&#x8BED;&#x8A00;&#x5DF2;&#x7ECF;&#x591F;&#x7528;&#x4E86;, &#x8FD9;&#x65F6;, &#x4ED6;&#x7684;&#x601D;&#x7EF4;&#x5C31;&#x5DF2;&#x7ECF;&#x88AB;Blub&#x8BED;&#x8A00;&#x540C;&#x5316;&#x4E86;&quot; &#x2014;&#x2014; Paul Graham &lt;&#x9ED1;&#x5BA2;&#x4E0E;&#x753B;&#x5BB6;&gt;</p>
</blockquote>
<h2 class="mume-header" id="%E5%89%8D%E8%A8%80">&#x524D;&#x8A00;</h2>

<p>&#x6211;&#x4E0D;&#x559C;&#x6B22;&#x4E1A;&#x52A1;&#x4EE3;&#x7801;&#x4E2D;&#x822A;&#x5929;&#x98DE;&#x673A;&#x5F0F;<code>if/else</code>&#x8BED;&#x53E5;, &#x5B83;&#x590D;&#x6742;&#x800C;&#x81C3;&#x80BF;, &#x81F3;&#x5C11;&#x4ECE;&#x7F8E;&#x611F;&#x800C;&#x8A00;, <code>switch</code>&#x5C31;&#x6BD4;<code>if/else</code>&#x4F18;&#x96C5;&#x5F88;&#x591A;. &#x5982;&#x679C;&#x8DE8;&#x8BED;&#x8A00;&#x6BD4;&#x8F83;&#x7684;&#x8BDD;, &#x79C1;&#x4EE5;&#x4E3A;ReasonML&#x7684;&#x6A21;&#x5F0F;&#x5339;&#x914D;&#x6BD4;&#x8D77;&#x5BFB;&#x5E38;&#x7684;<code>switch</code>&#x8BED;&#x53E5;&#x53C8;&#x8981;&#x5F3A;&#x4E0A;&#x592A;&#x591A;. JS&#x4E2D;&#x5BF9;&#x590D;&#x6742;&#x5224;&#x65AD;&#x7684;&#x4E0D;&#x540C;&#x5199;&#x6CD5;, &#x5E26;&#x6765;&#x7684;&#x611F;&#x89C9;&#x662F;&#x5F88;&#x4E0D;&#x540C;&#x7684;, &#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x91CC;, &#x6211;&#x5C06;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x51E0;&#x79CD;&#x7528;&#x4E8E;&#x66FF;&#x4EE3;if/else&#x7684;&#x5199;&#x6CD5;. &#x53EA;&#x6709;&#x719F;&#x6089;&#x66F4;&#x591A;&#x4EE3;&#x7801;&#x601D;&#x8DEF;, &#x624D;&#x80FD;&#x5F00;&#x9614;&#x6211;&#x4EEC;&#x7684;&#x601D;&#x7EF4;, <strong>&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x5B66;&#x4E60;&#x5199;&#x4EE3;&#x7801;&#x7684;&#x66F4;&#x591A;&#x53EF;&#x80FD;&#x6027;, &#x4E5F;&#x8BB8;&#x6211;&#x4EEC;&#x5C31;&#x6210;&#x4E86;&#x88AB;&#x4EE3;&#x7801;&#x63A7;&#x5236;&#x4F4F;&#x7684;&#x4EBA;</strong>.</p>
<h2 class="mume-header" id="ifelse">if/else</h2>

<p>&#x6211;&#x4EEC;&#x4EE5;&#x4E00;&#x4E2A;&#x552E;&#x540E;&#x6D41;&#x7A0B;&#x4E3A;&#x4F8B;. &#x7528;&#x6237;&#x8D2D;&#x4E70;&#x5546;&#x54C1;&#x540E;, &#x53EF;&#x80FD;&#x4F1A;&#x56E0;&#x4E3A;&#x9519;&#x4EF6;&#x6F0F;&#x4EF6;/&#x8D28;&#x91CF;&#x95EE;&#x9898;/&#x63CF;&#x8FF0;&#x4E0D;&#x7B26;&#x7B49;&#x539F;&#x56E0;&#x8054;&#x7CFB;&#x5546;&#x5BB6;&#x8FDB;&#x884C;&#x552E;&#x540E;&#x670D;&#x52A1;, &#x5176;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x6D89;&#x53CA;&#x9000;&#x6B3E;/&#x9000;&#x8D27;/&#x6362;&#x8D27;/&#x8865;&#x53D1;&#x7B49;&#x552E;&#x540E;&#x652F;&#x6301;&#x670D;&#x52A1;, &#x5546;&#x5BB6;&#x5BF9;&#x6B64;&#x6B21;&#x552E;&#x540E;&#x7684;&#x670D;&#x52A1;&#x60C5;&#x51B5;&#x4E5F;&#x4F1A;&#x5F71;&#x54CD;&#x7528;&#x6237;&#x5BF9;&#x5546;&#x5BB6;&#x7684;&#x559C;&#x597D;. &#x5728;&#x8FD9;&#x6837;&#x7684;&#x573A;&#x666F;&#x4E0B;, &#x6211;&#x4EEC;&#x5047;&#x8BBE;&#x4EE5;&#x4E0B;&#x4F2A;&#x4EE3;&#x7801;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">/* &#x4E70;&#x5BB6;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x552E;&#x540E;&#x539F;&#x56E0;, &#x53BB;&#x5BFB;&#x6C42;&#x4E0D;&#x540C;&#x7684;&#x552E;&#x540E;&#x652F;&#x6301; */</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>serviceReason <span class="token operator">===</span> <span class="token string">&apos;&#x9519;&#x4EF6;&#x6F0F;&#x4EF6;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">randomIn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x8865;&#x53D1;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment">// &#x7528;&#x6237;&#x66F4;&#x559C;&#x6B22;&#x8FD9;&#x5BB6;&#x5E97;&#x4E86;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x8865;&#x53D1;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>serviceReason <span class="token operator">===</span> <span class="token string">&apos;&#x8D28;&#x91CF;&#x95EE;&#x9898;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">randomIn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x6362;&#x8D27;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span>
      store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x6362;&#x8D27;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span>
      store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x63CF;&#x8FF0;&#x4E0D;&#x7B26;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x5176;&#x5B83;&#x539F;&#x56E0;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>&#x5728;&#x8FD9;&#x4E2A;&#x573A;&#x666F;&#x4E0B;, &#x6BCF;&#x4E00;&#x79CD;&#x552E;&#x540E;&#x539F;&#x56E0;&#x5BFC;&#x5411;&#x7684;&#x552E;&#x540E;&#x652F;&#x6301;&#x670D;&#x52A1;&#x5185;&#x5BB9;&#x662F;&#x4E0D;&#x540C;&#x7684;, &#x6BD4;&#x5982;&#x9519;&#x4EF6;&#x6F0F;&#x4EF6;&#x65F6;&#x7528;&#x6237;&#x4E0D;&#x80FD;&#x9009;&#x62E9;&#x6362;&#x8D27;&#x670D;&#x52A1;. &#x5982;&#x6B64;&#x4E00;&#x6765;, &#x6211;&#x4EEC;&#x7684;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x4E5F;&#x5C31;&#x6210;&#x4E86;&#x4E00;&#x4E2A;<code>[&#x552E;&#x540E;&#x539F;&#x56E0; * &#x552E;&#x540E;&#x652F;&#x6301;&#x670D;&#x52A1;]</code>&#x7684;&#x4E8C;&#x7EF4;&#x5217;&#x8868;. &#x6B64;&#x65F6;&#x518D;&#x52A0;&#x4E0A;&#x6839;&#x636E;&#x552E;&#x540E;&#x539F;&#x56E0;&#x4EE5;&#x53CA;&#x552E;&#x540E;&#x652F;&#x6301;&#x670D;&#x52A1;&#x7684;&#x4E0D;&#x540C;, &#x5224;&#x65AD;&#x6761;&#x4EF6;&#x59A5;&#x59A5;&#x5730;&#x5347;&#x4E3A;&#x4E09;&#x7EF4;: <code>[&#x552E;&#x540E;&#x539F;&#x56E0; * &#x552E;&#x540E;&#x652F;&#x6301;&#x670D;&#x52A1; * &#x7528;&#x6237;&#x559C;&#x597D;]</code></p>
<p>&#x663E;&#x7136;,  &#x5728;&#x8FD9;&#x79CD;&#x91CD;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x5730;&#x65B9;if/else&#x8BED;&#x53E5;&#x663E;&#x5F97;&#x529B;&#x4E0D;&#x4ECE;&#x5FC3;, &#x4E3B;&#x8981;&#x539F;&#x56E0;&#x5982;&#x4E0B;:</p>
<ol>
<li><strong>&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x540E;&#x7F6E;</strong>. &#x4E5F;&#x5C31;&#x662F;&#x8BF4;, &#x5728;<code>} else if (serviceReason === &apos;&#x8D28;&#x91CF;&#x95EE;&#x9898;&apos;) {</code>&#x4E00;&#x53E5;&#x4E2D;, &#x6211;&#x4EEC;&#x901A;&#x5E38;&#x8981;&#x5728;&#x884C;&#x672B;&#x624D;&#x80FD;&#x627E;&#x5230;&#x5224;&#x65AD;&#x6761;&#x4EF6;, &#x800C;&#x4E9B;&#x5185;&#x5BB9;&#x5E76;&#x6CA1;&#x6709;&#x9AD8;&#x4EAE;&#x652F;&#x6301;, &#x6240;&#x4EE5;&#x7ECF;&#x5E38;&#x4E0E;&#x4E0B;&#x4E00;&#x884C;&#x7684;&#x666E;&#x901A;&#x4EE3;&#x7801;&#x6DF7;&#x5728;&#x4E00;&#x8D77;, &#x8BA9;&#x4EBA;&#x773C;&#x82B1;&#x7F2D;&#x4E71;&#x65E0;&#x6CD5;&#x8FA8;&#x8BC6;.</li>
<li><strong>&#x4EE3;&#x7801;&#x7F29;&#x8FDB;&#x4E0D;&#x6E05;&#x6670;</strong>, &#x5F53;&#x5224;&#x65AD;&#x5C42;&#x6570;&#x589E;&#x52A0;, &#x6216;&#x662F;&#x82B1;&#x62EC;&#x53F7;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x52A0;&#x957F;, &#x90A3;&#x4E48;&#x9605;&#x8BFB;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;, &#x5BFB;&#x627E;if&#x8BED;&#x53E5;&#x5BF9;&#x5E94;&#x7684;&#x7ED3;&#x675F;&#x4F4D;&#x7F6E;&#x603B;&#x662F;&#x7ED9;&#x4EBA;&#x5E26;&#x6765;&#x8D1F;&#x62C5;.</li>
<li><strong>&#x5962;&#x4F88;&#x7684;&#x6362;&#x884C;</strong>, &#x5F53;if/else&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x903B;&#x8F91;&#x5F88;&#x77ED;, &#x50CF;<code>else { user.love(-5 }</code>&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;, &#x5360;&#x7528;&#x4E86;3&#x884C;&#x7684;&#x4F4D;&#x7F6E;&#x663E;&#x5F97;&#x8FC7;&#x4E8E;&#x5962;&#x4F88;.</li>
</ol>
<h2 class="mume-header" id="%E4%B8%89%E7%9B%AE%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9F%AD%E8%B7%AF%E8%A1%A8%E8%BE%BE%E5%BC%8F">&#x4E09;&#x76EE;&#x8FD0;&#x7B97;&#x7B26;/&#x77ED;&#x8DEF;&#x8868;&#x8FBE;&#x5F0F;</h2>

<p>&#x5728;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;, &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E09;&#x76EE;&#x8FD0;&#x7B97;&#x7B26;&#x6216;&#x77ED;&#x8DEF;&#x8868;&#x8FBE;&#x5F0F;&#x53BB;&#x7B80;&#x5316;&#x5224;&#x65AD;, &#x5982;<code>user.love</code>&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8C03;&#x7528;&#x5C31;&#x53EF;&#x4EE5;&#x62BD;&#x6210;&#x5355;&#x72EC;&#x7684;&#x4E00;&#x53E5;, &#x6240;&#x4EE5;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#x5224;&#x65AD;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7B80;&#x5316;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// &#x672A;&#x7ECF;&#x7B80;&#x5316;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
  user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// &#x7B80;&#x5316;&#x540E;</span>
store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
</pre><h2 class="mume-header" id="%E9%80%97%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6">&#x9017;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;</h2>

<p>&#x901A;&#x8FC7;&#x62EC;&#x53F7;&#x548C;&#x9017;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;, &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x8BED;&#x53E5;&#x53D8;&#x6210;&#x8868;&#x8FBE;&#x5F0F;&#x53BB;&#x6267;&#x884C;. &#x7075;&#x6D3B;&#x8FD0;&#x7528;&#x9017;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;&#x53EF;&#x4EE5;&#x4F7F;&#x4E09;&#x76EE;&#x6216;&#x77ED;&#x8DEF;&#x652F;&#x6301;&#x4E00;&#x4E9B;&#x66F4;&#x590D;&#x6742;&#x7684;&#x60C5;&#x51B5;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&apos;&#x6362;&#x8D27;&apos;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
    user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span><span class="token punctuation">,</span>
    store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token number">5</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>&#x4E0D;&#x8FC7;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;, &#x5728;Standard&#x89C4;&#x8303;&#x4E2D;&#x662F;&#x4E0D;&#x88AB;&#x63A8;&#x8350;&#x7684;. ESLint&#x4F1A;&#x8B66;&#x544A;&#x4F60;&#x8981;&#x6C42;&#x5C06;&#x8FD9;&#x884C;&#x5185;&#x5BB9;&#x8F6C;&#x5316;&#x4E3A;if/else&#x5199;&#x6CD5;. &#x5F53;&#x7136;, &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;ESLint&#x89C4;&#x8303;&#x4EE5;&#x5173;&#x95ED;&#x8B66;&#x544A;, &#x524D;&#x63D0;&#x662F;&#x4F60;(&#x53CA;&#x56E2;&#x961F;&#x6210;&#x5458;)&#x559C;&#x6B22;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;.</p>
<h2 class="mume-header" id="switchcase">switch/case</h2>

<p>&#x5904;&#x7406;&#x590D;&#x6742;&#x7684;&#x591A;&#x5206;&#x652F;&#x5224;&#x65AD;&#x65F6;, &#x5927;&#x90E8;&#x5206;&#x4EBA;&#x4F1A;&#x9009;&#x62E9;&#x4F7F;&#x7528;switch&#x4F5C;&#x4E3A;&#x957F;if/else&#x7684;&#x66FF;&#x4EE3;&#x54C1;, &#x4F60;&#x89C9;&#x5F97;&#x4E0B;&#x9762;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x5982;&#x4F55;&#x5462;?</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">/* &#x4E70;&#x5BB6;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x552E;&#x540E;&#x539F;&#x56E0;, &#x53BB;&#x83B7;&#x53D6;&#x4E0D;&#x540C;&#x7684;&#x552E;&#x540E;&#x652F;&#x6301; */</span>
<span class="token keyword">switch</span> <span class="token punctuation">(</span>serviceReason<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">&apos;&#x9519;&#x4EF6;&#x6F0F;&#x4EF6;&apos;</span><span class="token punctuation">:</span>
    <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">randomIn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x8865;&#x53D1;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span>
        store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
        user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x8865;&#x53D1;&apos;</span><span class="token punctuation">:</span>
        store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span>
        user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">break</span>
  <span class="token keyword">case</span> <span class="token string">&apos;&#x8D28;&#x91CF;&#x95EE;&#x9898;&apos;</span><span class="token punctuation">:</span>
    <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">randomIn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x6362;&#x8D27;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span>
        store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
        user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span>
        store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span><span class="token punctuation">,</span>
          store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token number">4</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span>
        store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
          user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span><span class="token punctuation">,</span>
          store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> <span class="token number">5</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">break</span>
<span class="token punctuation">}</span>
</pre><p>&#x5F88;&#x9057;&#x61BE;, &#x770B;&#x6765;switch&#x8BED;&#x53E5;&#x5E76;&#x6CA1;&#x6709;&#x6BD4;if/else&#x8981;&#x597D;&#x591A;&#x5C11;. &#x53EA;&#x662F;&#x6709;&#x4E00;&#x70B9;&#x6211;&#x8981;&#x5F3A;&#x8C03;, &#x5728;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;, &#x6240;&#x6709;&#x6709;&#x5173;&#x5224;&#x65AD;&#x7684;&#x5173;&#x952E;&#x5B57;&#x7684;&#x5730;&#x65B9;(&#x5982;switch, case, &amp;&amp;, &#x8FD9;&#x4E9B;&#x90FD;&#x5C5E;&#x4E8E;&#x4EE3;&#x7801;&#x9AD8;&#x4EAE;&#x533A;&#x57DF;), &#x51E0;&#x4E4E;&#x90FD;&#x5B58;&#x5728;&#x4E0E;&#x6BCF;&#x4E00;&#x884C;&#x5F00;&#x5934;&#x7684;&#x524D;&#x4E24;&#x4E2A;&#x8BED;&#x5143;&#x5185;. &#x6240;&#x4EE5;&#x76EE;&#x524D;&#x4E3A;&#x6B62;, &#x5355;&#x7EAF;&#x5C31;&#x641C;&#x5BFB;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x7684;&#x96BE;&#x5EA6;&#x800C;&#x8A00;, switch&#x662F;&#x8981;&#x6BD4;if/else&#x597D;&#x4E0A;&#x4E00;&#x4E9B;, &#x5C3D;&#x7BA1;&#x8FD9;&#x79CD;&#x597D;&#x5904;&#x4F1A;&#x968F;&#x7740;&#x5224;&#x65AD;&#x5206;&#x652F;&#x7684;&#x589E;&#x52A0;&#x800C;&#x9010;&#x6E10;&#x88AB;&#x6D88;&#x78E8;(&#x8FD9;&#x7B97;&#x662F;&#x4E00;&#x79CD;&#x9057;&#x61BE;&#x5427;).</p>
<p>&#x5176;&#x5B9E;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x4EE4;&#x6211;&#x89C9;&#x5F97;&#x9057;&#x61BE;&#x7684;&#x5730;&#x65B9;, switch&#x8BED;&#x53E5;&#x4E0D;&#x80FD;&#x548C;&#x77ED;&#x8DEF;&#x8FD0;&#x7B97;&#x7B26;&#x4E00;&#x5E76;&#x4F7F;&#x7528;, &#x4E0B;&#x9762;&#x662F;&#x4E00;&#x79CD;&#x9519;&#x8BEF;&#x7684;&#x793A;&#x8303;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">switch</span> <span class="token punctuation">(</span>serviceReason<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">&apos;&#x8D28;&#x91CF;&#x95EE;&#x9898;&apos;</span><span class="token punctuation">:</span>
    <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">randomIn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x6362;&#x8D27;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// &#x8FD9;&#x662F;&#x4E0D;&#x5408;&#x6CD5;&#x7684;&#x5199;&#x6CD5;</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span> <span class="token comment">// ...</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token comment">// ...</span>
      <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// &#x8FD9;&#x662F;&#x5408;&#x6CD5;&#x7684;&#x5199;&#x6CD5;</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span> <span class="token comment">// ...</span>
        <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token comment">// ...</span>
        <span class="token keyword">case</span> <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>&#x7A0D;&#x5FAE;&#x6709;&#x4E9B;&#x96BE;&#x53D7;, &#x6BD5;&#x7ADF;&#x4F7F;&#x7528;if&#x5224;&#x65AD;&#x4F1A;&#x589E;&#x52A0;&#x7F29;&#x8FDB;. &#x73B0;&#x5728;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x79CD;&#x66F4;&#x52A0;&#x7B80;&#x6D01;&#x7684;&#x601D;&#x8DEF;.</p>
<h2 class="mume-header" id="%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E4%B8%8E%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E5%88%86%E7%A6%BB">&#x914D;&#x7F6E;&#x6570;&#x636E;&#x4E0E;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5206;&#x79BB;</h2>

<p>&#x914D;&#x7F6E;&#x6570;&#x636E;&#x4E0E;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5206;&#x79BB;(&#x4E0B;&#x7B80;&#x79F0;&#x914D;&#x7F6E;&#x903B;&#x8F91;&#x5206;&#x79BB;)&#x6CA1;&#x6709;&#x5148;&#x51B3;&#x6761;&#x4EF6;, &#x548C;&#x4E09;&#x76EE;&#x77ED;&#x8DEF;&#x8868;&#x8FBE;&#x5F0F;&#x4E00;&#x6837;, &#x4F60;&#x968F;&#x65F6;&#x90FD;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x5B83;. &#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x903B;&#x8F91;&#x5206;&#x79BB;, &#x901A;&#x5E38;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5B58;&#x653E;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x7684;&#x5BF9;&#x8C61;, &#x540C;&#x65F6;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;<code>flag</code>&#x4F5C;&#x4E3A;&#x914D;&#x7F6E;&#x7684;&#x952E;, &#x914D;&#x7F6E;&#x7684;&#x503C;&#x5219;&#x53EF;&#x4EE5;&#x662F;&#x51FD;&#x6570;, &#x6570;&#x7EC4;&#x7B49;&#x4EFB;&#x610F;&#x7C7B;&#x578B;&#x7684;&#x503C;. &#x5728;&#x6267;&#x884C;&#x903B;&#x8F91;&#x7684;&#x5730;&#x65B9;, &#x53EA;&#x9700;&#x8981;&#x5C06;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x4E0E;<code>flag</code>&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;, &#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x5F53;&#x524D;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x4E0B;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x65B9;&#x6CD5;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// &#x4E1A;&#x52A1;&#x6570;&#x636E;&#x914D;&#x7F6E;</span>
<span class="token keyword">const</span> serviceHandler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&apos;&#x9519;&#x4EF6;&#x6F0F;&#x4EF6;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&apos;&#x8865;&#x53D1;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;&#x8D28;&#x91CF;&#x95EE;&#x9898;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// &#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x6267;&#x884C;</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> serviceHandler<span class="token punctuation">[</span>serviceReason<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// &#x5BF9;&#x641C;&#x5BFB;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&apos;&#x515C;&#x5E95;&apos;</span>
<span class="token keyword">const</span> executor <span class="token operator">=</span> handler<span class="token punctuation">[</span><span class="token function">randomIn</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token parameter">_</span> <span class="token operator">=&gt;</span> _

<span class="token keyword">const</span> loveScore <span class="token operator">=</span> <span class="token function">executor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span>
user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> loveScore <span class="token punctuation">:</span> <span class="token operator">-</span>loveScore<span class="token punctuation">)</span>
</pre><p><ruby>&#x6709;&#x6CA1;&#x6709;&#x773C;&#x524D;&#x4E00;&#x4EAE;&#x7684;&#x611F;&#x89C9;&#x5462;?<rt>&#x6697;&#x793A;&#x70B9;&#x8D5E;</rt></ruby></p>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x7247;&#x6BB5;&#x4E2D;, &#x6211;&#x4EEC;&#x5C06;&#x6BCF;&#x4E00;&#x79CD;&#x72B6;&#x6001;&#x7684;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x548C;&#x6267;&#x884C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x5B9A;&#x5C42;&#x5EA6;&#x7684;&#x5206;&#x79BB;, &#x4F7F;&#x5F97;&#x4EE3;&#x7801;&#x957F;&#x5EA6;&#x77ED;&#x4E86;&#x4E0D;&#x5C11;. &#x901A;&#x8FC7;&#x9017;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;, &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x6267;&#x884C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x51FD;&#x6570;, &#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x7528;&#x6237;&#x5BF9;&#x5E97;&#x5BB6;&#x7684;&#x6620;&#x50CF;&#x5206;&#x6570;.</p>
<p>&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x60F3;&#x8FD9;&#x4E48;&#x6FC0;&#x8FDB;, &#x4E5F;&#x8BB8;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x4E00;&#x79CD;&#x597D;&#x7684;&#x5B9E;&#x8DF5;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> serviceHandler <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&apos;&#x9519;&#x4EF6;&#x6F0F;&#x4EF6;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> score<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function-variable function">cb</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&apos;&#x8865;&#x53D1;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> score<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token function-variable function">cb</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;&#x8D28;&#x91CF;&#x95EE;&#x9898;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&apos;&#x9000;&#x6B3E;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> score<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token function-variable function">cb</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> score<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token function-variable function">cb</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">refund</span><span class="token punctuation">(</span>somemoney<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&apos;&#x9000;&#x8D27;&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> score<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token function-variable function">cb</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>recievedGoods<span class="token punctuation">)</span><span class="token punctuation">,</span> store<span class="token punctuation">.</span><span class="token function">mail</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span>AlphaStrike<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> serviceHandler<span class="token punctuation">[</span>serviceReason<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> executor <span class="token operator">=</span> handler<span class="token punctuation">[</span><span class="token function">randomIn</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token parameter">_</span> <span class="token operator">=&gt;</span> _
<span class="token keyword">const</span> handleRes <span class="token operator">=</span> <span class="token function">executor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

handleRes<span class="token punctuation">.</span><span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
user<span class="token punctuation">.</span><span class="token function">love</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>checked <span class="token operator">?</span> handleRes<span class="token punctuation">.</span>score <span class="token punctuation">:</span> <span class="token operator">-</span>handleRes<span class="token punctuation">.</span>score<span class="token punctuation">)</span>
</pre><h2 class="mume-header" id="%E6%9B%B4%E5%8A%A0%E7%81%B5%E6%B4%BB%E7%9A%84%E6%95%B0%E6%8D%AE%E9%85%8D%E7%BD%AE">&#x66F4;&#x52A0;&#x7075;&#x6D3B;&#x7684;&#x6570;&#x636E;&#x914D;&#x7F6E;</h2>

<p>&#x4E0A;&#x4E00;&#x8282;&#x4F7F;&#x7528;&#x4E86;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x914D;&#x7F6E;, &#x5982;&#x679C;&#x8BF4;&#x6709;&#x90A3;&#x4E48;&#x4E00;&#x70B9;&#x9057;&#x61BE;&#x7684;&#x5730;&#x65B9;, &#x90A3;&#x5C31;&#x662F;&#x5C3D;&#x7BA1;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x4E3A;&#x4EFB;&#x610F;&#x7C7B;&#x578B;, &#x4F46;&#x662F;&#x5C5E;&#x6027;&#x672C;&#x8EAB;&#x5374;&#x53EA;&#x80FD;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;, &#x8FD9;&#x4F7F;&#x5F97;&#x67D0;&#x4E9B;&#x573A;&#x666F;&#x4E0B;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x5F88;&#x597D;&#x7684;&#x53D1;&#x6325;&#x914D;&#x7F6E;&#x903B;&#x8F91;&#x5206;&#x79BB;&#x7684;&#x4F5C;&#x7528;. &#x60F3;&#x8C61;&#x4EE5;&#x4E0B;&#x573A;&#x666F;: &#x6BCF;&#x4E2A;&#x6708;&#x672B;, &#x5546;&#x5BB6;&#x4F1A;&#x6311;&#x9009;&#x51FA;&#x72C2;&#x70ED;&#x7C89;&#x4E1D;(&#x559C;&#x7231;&#x7A0B;&#x5EA6;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;100)&#x53D1;&#x9001;&#x7559;&#x8A00;&quot;&#x611F;&#x8C22;&#x4F60;&quot;&#x5E76;&#x8D60;&#x9001;10&#x5143;&#x4F18;&#x60E0;&#x5238;, &#x666E;&#x901A;&#x7C89;&#x4E1D;(&#x5206;&#x6570;0-100)&#x53D1;&#x9001;&#x7559;&#x8A00;&quot;&#x611F;&#x8C22;&quot;, &#x9ED1;&#x7C89;(&#x5206;&#x6570;&#x5C0F;&#x4E8E;0)&#x53D1;&#x9001;&quot;&#x62B1;&#x6B49;&quot;&#x5E76;&#x8D60;&#x9001;10&#x5143;&#x4F18;&#x60E0;&#x5238;.</p>
<p>&#x7B49;&#x7B49;, &#x559C;&#x7231;&#x7A0B;&#x5EA6;&#x5206;&#x6570;&#x662F;&#x4E0D;&#x5B9A;&#x7684;!</p>
<p>&#x663E;&#x7136;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x7528;&#x5BF9;&#x8C61;&#x53BB;&#x5904;&#x7406;&#x8FD9;&#x6837;&#x7684;&#x6570;&#x636E;(&#x53EA;&#x8981;&#x6211;&#x8FD8;&#x6CA1;&#x75AF;&#x6389;), &#x5982;&#x4E0B;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword">const</span> scoreMap <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&apos;0&apos;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;1&apos;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;2&apos;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;3&apos;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;4&apos;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
  <span class="token string">&apos;99&apos;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&apos;100&apos;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token string">&apos;thank u&apos;</span><span class="token punctuation">)</span>
    <span class="token function">sendCoupon</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>&#x4EE4;&#x4EBA;&#x5934;&#x5927;, &#x96BE;&#x5230;&#x6211;&#x4EEC;&#x8981;&#x7528;&#x56DE;if/else? &#x574F;&#x6D88;&#x606F;&#x662F;: &#x4E5F;&#x8BB8;&#x662F;&#x7684;.</p>
<p>&#x4E0D;&#x8FC7;, &#x6211;&#x5FC5;&#x987B;&#x5F3A;&#x8C03;, <strong>&#x5047;&#x4F7F;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x8DB3;&#x591F;&#x590D;&#x6742;</strong>&#x2014;&#x2014;&#x6BD4;&#x5982;&#x5546;&#x5BB6;&#x4E0D;&#x4EC5;&#x8D60;&#x9001;&#x4F18;&#x60E0;&#x5238;, &#x5546;&#x5BB6;&#x8FD8;&#x6839;&#x636E;&#x7C89;&#x4E1D;&#x5206;&#x6570;&#x9AD8;&#x4F4E;&#x4E0D;&#x540C;, &#x9001;&#x51FA;QQ&#x7EA2;&#x94BB;/&#x7EFF;&#x94BB;/&#x9EC4;&#x94BB;/...&#x4E00;&#x5806;&#x9700;&#x8981;&#x5224;&#x65AD;&#x7684;&#x793C;&#x54C1;&#x2014;&#x2014;&#x4F7F;&#x7528;if/else&#x4F9D;&#x65E7;&#x4F1A;&#x9762;&#x4E34;&#x6211;&#x4EEC;&#x5728;&#x7B2C;&#x4E00;&#x5C0F;&#x8282;&#x63D0;&#x5230;&#x7684;&#x4EE3;&#x7801;&#x6DF7;&#x4E71;&#x7B49;&#x95EE;&#x9898;.</p>
<p>&#x6240;&#x4EE5;&#x597D;&#x6D88;&#x606F;&#x662F;, &#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x903B;&#x8F91;&#x5206;&#x79BB;&#x80FD;&#x591F;&#x5904;&#x7406;&#x66F4;&#x590D;&#x6742;&#x7684;&#x66F4;&#x6DF7;&#x4E71;&#x7684;&#x573A;&#x666F;(&#x800C;&#x4E14;&#x4F60;&#x4E5F;&#x5E94;&#x5F53;&#x8FD9;&#x4E48;&#x4F7F;&#x7528;). &#x4F60;&#x8FD8;&#x8BB0;&#x5F97;&#x6211;&#x4EEC;&#x521A;&#x521A;&#x63D0;&#x5230;&#x7684;&quot;&#x5C5E;&#x6027;&#x672C;&#x8EAB;&#x5374;&#x53EA;&#x80FD;&#x662F;&#x5B57;&#x7B26;&#x4E32;&quot;&#x8FD9;&#x79CD;&#x7565;&#x5FAE;&#x7684;&#x9057;&#x61BE;&#x5417;? &#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C06;&#x8981;&#x8981;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;! &#x8BF7;&#x770B;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// &#x4F7F;&#x7528;Map&#x8FDB;&#x884C;&#x6570;&#x636E;&#x914D;&#x7F6E;</span>
<span class="token keyword">const</span> scoreHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_-[0-9]{1,2}$/</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7EFF;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x84DD;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x7EA2;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x9EC4;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x7D2B;&#x94BB;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_[0-9]{1}$/</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x84DD;&#x94BB;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_1[0-9]{1}$/</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x84DD;&#x94BB;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x7EA2;&#x94BB;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_2[0-9]{1}$/</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x84DD;&#x94BB;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x7EA2;&#x94BB;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x9EC4;&#x94BB;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_3[0-9]{1}$/</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x84DD;&#x94BB;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x7EA2;&#x94BB;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x9EC4;&#x94BB;&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;&#x7D2B;&#x94BB;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> userScore <span class="token operator">=</span> <span class="token number">15</span>
<span class="token keyword">const</span> validScore <span class="token operator">=</span> <span class="token template-string"><span class="token string">`score_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userScore<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
<span class="token keyword">let</span> handle<span class="token punctuation">,</span> entriess <span class="token operator">=</span> scoreHandler<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token punctuation">:</span> handle<span class="token punctuation">,</span> done <span class="token punctuation">}</span> <span class="token operator">=</span> entriess<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">!</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>scoreReg<span class="token punctuation">,</span> handler<span class="token punctuation">]</span> <span class="token operator">=</span> handle
  <span class="token keyword">if</span> <span class="token punctuation">(</span>scoreReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>validScore<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &#x8F93;&#x51FA;&#x7ED3;&#x679C; &quot;&#x84DD;&#x94BB;&quot;</span>
    entriess <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">next</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> done<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// &#x7EC8;&#x6B62;&#x5FAA;&#x73AF;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p><strong>&#x4F7F;&#x7528;Map&#x8FDB;&#x884C;&#x6570;&#x636E;&#x914D;&#x7F6E;&#x662F;&#x975E;&#x5E38;&#x68D2;&#x7684;&#x4E00;&#x79CD;&#x5199;&#x6CD5;</strong>, &#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x5FC5;&#x987B;&#x517C;&#x5BB9;IE&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BDD;, &#x4F60;&#x5FC5;&#x987B;&#x8003;&#x8651;&#x4F7F;&#x7528;&#x5176;&#x5B83;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7528;&#x4E8E;&#x66FF;&#x4EE3;Map:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// &#x53CC;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x914D;&#x7F6E;</span>
<span class="token keyword">const</span> validator <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_-[0-9]{1,2}$/</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_1[0-9]{1}$/</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token regex">/^score_2[0-9]{1}$/</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;&#x7EFF;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x84DD;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x7EA2;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x9EC4;&#x94BB;&apos;</span><span class="token punctuation">,</span><span class="token string">&apos;&#x7D2B;&#x94BB;&apos;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token string">&apos;&#x84DD;&#x94BB;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">sendGift</span><span class="token punctuation">(</span><span class="token string">&apos;&#x7EA2;&#x94BB;&apos;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token comment">// &#x6267;&#x884C;&#x903B;&#x8F91;&#x7701;&#x7565;</span>
<span class="token comment">// &#x4ECE;validator&#x4E2D;&#x627E;&#x5230;&#x6821;&#x9A8C;&#x901A;&#x8FC7;&#x7684;&#x5143;&#x7D20;&#x7684;&#x4E0B;&#x6807;, &#x7136;&#x540E;&#x6267;&#x884C;handler&#x6570;&#x7EC4;&#x4E2D;&#x5BF9;&#x5E94;&#x4E0B;&#x6807;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;</span>

<span class="token comment">// ... &#x6216;&#x8005;&#x5176;&#x5B83;&#x6570;&#x636E;&#x7ED3;&#x6784; ...</span>
</pre><p>&#x6211;&#x4EEC;&#x5728;&#x4E0A;&#x8FF0;&#x4E24;&#x5C0F;&#x8282;&#x4E2D;&#x63D0;&#x5230;&#x7684;&#x51E0;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x4EE3;&#x7801;&#x98CE;&#x683C;, &#x90FD;&#x9075;&#x5FAA;&#x7740;&#x5C06;&apos;&#x914D;&#x7F6E;&apos;&#x53D1;&#x6325;&#x5230;&#x9886;&#x5148;&#x5224;&#x65AD;&#x4E00;&#x6B65;&#x7684;&#x7406;&#x5FF5;. &#x5728;&#x5B9E;&#x9645;&#x4E1A;&#x52A1;&#x4E2D;, &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x8BD5;&#x8BD5;&#x5C1D;&#x8BD5;&#x6DF7;&#x5408;&#x914D;&#x7F6E;&#x903B;&#x8F91;&#x5206;&#x79BB;&#x4EE5;&#x53CA;&#x5E38;&#x89C4;&#x5224;&#x65AD;&#x6761;&#x4EF6;&#x5F0F;&#x5199;&#x6CD5;, &#x5176;&#x4E2D;&#x4E3B;&#x8981;&#x8003;&#x91CF;&#x7684;&#x70B9;&#x5E94;&#x8BE5;&#x662F;<strong>&#x662F;&#x914D;&#x7F6E;&#x9886;&#x5148;&#x5224;&#x65AD;, &#x8FD8;&#x662F;&#x5224;&#x65AD;&#x9886;&#x5148;&#x914D;&#x7F6E;</strong>.</p>
<h2 class="mume-header" id="%E5%90%8E%E8%AF%AD">&#x540E;&#x8BED;</h2>

<p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x51E0;&#x79CD;&#x7528;&#x4E8E;&#x66FF;&#x4EE3;&#x666E;&#x904D;&#x573A;&#x666F;&#x4E2D;if/else&#x7684;&#x5199;&#x6CD5;, &#x5982;&#x4E09;&#x76EE;+&#x9017;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;, &#x4F7F;&#x7528;&#x5BF9;&#x8C61;/Map/&#x53CC;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x4E0E;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5206;&#x79BB;, &#x867D;&#x7136;&#x5904;&#x7406;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x601D;&#x8DEF;&#x662F;&#x4E00;&#x6837;&#x7684;, &#x4F46;&#x662F;&#x6BCF;&#x79CD;&#x65B9;&#x6CD5;&#x5199;&#x8D77;&#x6765;&#x7684;&#x5B9E;&#x9645;&#x611F;&#x89C9;&#x5374;&#x4E0D;&#x4E00;&#x6837;, &#x5B70;&#x4F18;&#x5B70;&#x52A3;, &#x8FD8;&#x8BF7;&#x5404;&#x4F4D;&#x770B;&#x5B98;&#x4ED4;&#x7EC6;&#x54C1;&#x5473;&#x4E00;&#x756A;.</p>
<p>&#x6700;&#x540E;, &#x5982;&#x679C;&#x672C;&#x6587;&#x80FD;&#x7ED9;&#x5927;&#x5BB6;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x4EE3;&#x7801;&#x4E0A;&#x7684;&#x9050;&#x60F3;&#x53CA;&#x601D;&#x8003;, <ruby>&#x90A3;&#x662F;&#x518D;&#x597D;&#x4E0D;&#x8FC7;<rt>&#x6697;&#x793A;&#x70B9;&#x8D5E;*2.jpg</rt></ruby>, &#x5982;&#x6587;&#x4E2D;&#x6709;&#x4E0D;&#x5F53;&#x4E4B;&#x5904;, &#x6B22;&#x8FCE;&#x5404;&#x4F4D;&#x5728;&#x8BC4;&#x8BBA;&#x4E2D;&#x6307;&#x51FA;&#x53CA;&#x8865;&#x5145;.</p>
<h3 class="mume-header" id="%E4%BB%A3%E7%A0%81%E6%80%A7%E8%83%BD">&#x4EE3;&#x7801;&#x6027;&#x80FD;</h3>

<p>&#x6211;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x8003;&#x5BDF;&#x8FC7;&#x5404;&#x79CD;&#x5199;&#x6CD5;&#x7684;&#x6027;&#x80FD;&#x4EE3;&#x4EF7;, &#x6709;&#x5174;&#x8DA3;&#x7684;&#x6398;&#x53CB;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4E00;&#x4E0B;&#x1F44D;</p>
<h3 class="mume-header" id="%E9%98%85%E8%AF%BB%E6%9B%B4%E5%A4%9A">&#x9605;&#x8BFB;&#x66F4;&#x591A;</h3>

<ul>
<li><a href="https://juejin.im/post/5bdfef86e51d453bf8051bf8">JavaScript &#x590D;&#x6742;&#x5224;&#x65AD;&#x7684;&#x66F4;&#x4F18;&#x96C5;&#x5199;&#x6CD5;</a></li>
<li><a href="https://juejin.im/post/5b4b73e7f265da0f96287f0a">[&#x6D45;&#x6790;]&#x7279;&#x5B9A;&#x573A;&#x666F;&#x4E0B;&#x53D6;&#x4EE3;if-else&#x548C;switch&#x7684;&#x65B9;&#x6848;</a></li>
<li><a href="https://segmentfault.com/a/1190000016604728">[&#x63A2;&#x7D22;]&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x5C3D;&#x91CF;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x7684;&#x590D;&#x7528;&#x6027;</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map">MDN: Map</a></li>
</ul>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body>

    </main>
  </div>
</body>